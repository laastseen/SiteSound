{% extends "admin/layout.html" %}
{% block admin_content %}
<h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</h2>
<p>–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ —Å–∞–π—Ç–∞.</p>

<form method="POST" enctype="multipart/form-data" style="background: #151515; padding: 20px; border-radius: 12px; margin: 25px 0;">
    <div style="margin-bottom: 15px;">
        <label>–§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (jpg, png, webp)</label><br>
        <input type="file" name="file" accept="image/*" required style="color: white;">
    </div>
    <div style="margin-bottom: 15px;">
        <label>–ì–¥–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</label><br>
        <select name="usage" style="width: 100%; padding: 8px; background: #222; color: white; border: 1px solid #444;">
            <option value="hero">–§–æ–Ω –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≥–µ—Ä–æ–π)</option>
            <option value="carousel">–ö–∞—Ä—É—Å–µ–ª—å (–ì–ª–∞–≤–Ω–∞—è / –û —Å—Ç—É–¥–∏–∏)</option>
            <option value="about">–°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–û —Å—Ç—É–¥–∏–∏¬ª</option>
            <option value="services">–£—Å–ª—É–≥–∏</option>
            <option value="other">–î—Ä—É–≥–æ–µ</option>
        </select>
    </div>
    <div style="margin-bottom: 15px;">
        <label>–û–ø–∏—Å–∞–Ω–∏–µ (alt text, –¥–ª—è SEO)</label>
        <input type="text" name="alt_text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—É–¥–∏—è –∑–∞–ø–∏—Å–∏" style="width: 100%; padding: 8px; background: #222; color: white; border: 1px solid #444;">
    </div>
    <button type="submit" style="padding: 10px 20px; background: white; color: black; border: none; border-radius: 6px; font-weight: bold;">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
</form>

<h3>–í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ({{ media_items|length }})</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 25px; margin-top: 20px;">
    {% for item in media_items %}
    <div style="background: #1a1a1a; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
        <div style="height: 160px; overflow: hidden;">
            <img src="{{ item.url }}" alt="{{ item.alt_text or '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ' }}" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
        <div style="padding: 12px; font-size: 0.85rem;">
            <div><strong>{{ item.usage }}</strong></div>
            <div style="opacity: 0.7; margin: 4px 0;">{{ item.alt_text or '‚Äî' }}</div>
            <form method="POST" action="{{ url_for('delete_media', media_id=item.id) }}" style="margin-top: 10px;">
                <button type="submit"
                        onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ?')"
                        style="background: #c00; color: white; border: none; padding: 4px 10px; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">
                    –£–¥–∞–ª–∏—Ç—å
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>

<p style="margin-top: 30px; font-size: 0.9rem; opacity: 0.7;">
    üí° –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å–∞–π—Ç–µ, —É–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.
</p>
{% endblock %}